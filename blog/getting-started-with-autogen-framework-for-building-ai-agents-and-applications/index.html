<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Language" content="en">
    <script src="https://ravichaganti.com/js/view.js"></script>
    <link rel="stylesheet" href="https://ravichaganti.com/css/syntax.css">
    <meta name="author" content="Ravikanth Chaganti">
    <meta name="description" content="I have been closely following developments in the Agentic AI space. AutoGen from Microsoft Research is emerging as a powerful yet easy-to-use framework for building AI agents and applications. With their re-architected release (0.4.0), they have re-imagined building advanced AI applications. This release introduces an asynchronous, event-driven architecture.
                                 This release features a layered architecture with all foundational building blocks for an event-driven system as the core package.">
    <meta name="keywords" content="blog,microsoft,mvp,powershell,automation,author, innovator, speaker">

    <meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting started with AutoGen framework for building AI agents and applications"/>
<meta name="twitter:description" content="I have been closely following developments in the Agentic AI space. AutoGen from Microsoft Research is emerging as a powerful yet easy-to-use framework for building AI agents and applications. With their re-architected release (0.4.0), they have re-imagined building advanced AI applications. This release introduces an asynchronous, event-driven architecture.
                                 This release features a layered architecture with all foundational building blocks for an event-driven system as the core package."/>

    <meta property="og:title" content="Getting started with AutoGen framework for building AI agents and applications" />
<meta property="og:description" content="I have been closely following developments in the Agentic AI space. AutoGen from Microsoft Research is emerging as a powerful yet easy-to-use framework for building AI agents and applications. With their re-architected release (0.4.0), they have re-imagined building advanced AI applications. This release introduces an asynchronous, event-driven architecture.
                                 This release features a layered architecture with all foundational building blocks for an event-driven system as the core package." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://ravichaganti.com/blog/getting-started-with-autogen-framework-for-building-ai-agents-and-applications/" />
<meta property="article:published_time" content="2025-01-30T00:00:00+00:00" />
<meta property="article:modified_time" content="2025-01-30T00:00:00+00:00" /><meta property="og:see_also" content="https://ravichaganti.com/blog/teams-of-agents-in-autogen/" />
<meta property="og:see_also" content="https://ravichaganti.com/blog/teams-of-agents-in-autogen/" /><meta property="og:see_also" content="https://ravichaganti.com/blog/predicted-outputs-azure-openai/" /><meta property="og:see_also" content="https://ravichaganti.com/blog/parallel-tool-calling-azure-openai/" /><meta property="og:see_also" content="https://ravichaganti.com/blog/structured-output-azure-openai/" /><meta property="og:see_also" content="https://ravichaganti.com/blog/azure-openai-function-calling-with-multiple-tools/" />
<meta property="og:see_also" content="https://ravichaganti.com/blog/teams-of-agents-in-autogen/" />



    
      <base href="https://ravichaganti.com/blog/getting-started-with-autogen-framework-for-building-ai-agents-and-applications/">
    
    <title>
  Getting started with AutoGen framework for building AI agents and applications · Ravikanth Chaganti
</title>

    
      <link rel="canonical" href="https://ravichaganti.com/blog/getting-started-with-autogen-framework-for-building-ai-agents-and-applications/">
    

    <link href="https://fonts.googleapis.com/css?family=Lato:400,700%7CMerriweather:300,700%7CSource+Code+Pro:400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.13.0/css/all.css" integrity="sha384-Bfad6CLCknfcloXFOyFnlgtENryhrpZCe29RTifKEixXQZ38WheV+i/6YWSzkz3V" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.1/normalize.min.css" integrity="sha256-l85OmPOjvil/SOvVt3HnSSjzF1TUMyT9eV0c2BzEGzU=" crossorigin="anonymous" />

    
      
      
      <link rel="stylesheet" href="https://ravichaganti.com/css/coder.min.897f2f761ca1c7df1614de4c088e4ebbb7f5984b520994e5ee0a0fc4ba52f7de.css" integrity="sha256-iX8vdhyhx98WFN5MCI5Ou7f1mEtSCZTl7goPxLpS994=" crossorigin="anonymous" media="screen" />
    

    

    
      
        
        
        <link rel="stylesheet" href="https://ravichaganti.com/css/coder-dark.min.e78e80fc3a585a4d1c8fc7f58623b6ff852411e38431a9cd1792877ecaa160f6.css" integrity="sha256-546A/DpYWk0cj8f1hiO2/4UkEeOEManNF5KHfsqhYPY=" crossorigin="anonymous" media="screen" />
      
    

    

    

    <link rel="icon" type="image/png" href="https://ravichaganti.com/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="https://ravichaganti.com/images/favicon-16x16.png" sizes="16x16">

    <meta name="generator" content="Hugo 0.73.0" />
  </head>

  
  
    
  
  
    <body onload="getViews( &#34;https://ravichaganti.com/blog/getting-started-with-autogen-framework-for-building-ai-agents-and-applications/&#34; )" class="colorscheme-auto">
  
    <main class="wrapper">
      <nav class="navigation">
  <section class="container">
    <a class="navigation-title" href="https://ravichaganti.com/">
      Ravikanth Chaganti
    </a>
    
    <input type="checkbox" id="menu-toggle" />
    <label class="menu-button float-right" for="menu-toggle"><i class="fas fa-bars"></i></label>
    <ul class="navigation-list">
      
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ravichaganti.com/about/">About</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ravichaganti.com/blog/">Blog</a>
          </li>
        
          <li class="navigation-item">
            <a class="navigation-link" href="https://ravichaganti.com/books/">Books</a>
          </li>
        
      
      
    </ul>
    
  </section>
</nav>


      <div class="content">
        
  <section class="container post">
    <article>
      <header>
        <div class="post-title">
          <h1 class="title">Getting started with AutoGen framework for building AI agents and applications</h1>
        </div>
        <div class="post-meta">
          <div class="date">
            <span class="posted-on">
              <i class="fas fa-calendar"></i>
              <time datetime='2025-01-30T00:00:00Z'>
                January 30, 2025
              </time>
            </span>
            <span class="reading-time">
              <i class="fas fa-clock"></i>
              11-minute read
            </span>
          </div>
          <div class="categories">
  <i class="fas fa-folder"></i>
    <a href="https://ravichaganti.com/categories/autogen/">autogen</a>
      <span class="separator">•</span>
    <a href="https://ravichaganti.com/categories/azure-openai/">azure-openai</a>
      <span class="separator">•</span>
    <a href="https://ravichaganti.com/categories/python/">python</a></div>

          <div class="tags">
  <i class="fas fa-tag"></i>
    <a href="https://ravichaganti.com/tags/azure/">azure</a>
      <span class="separator">•</span>
    <a href="https://ravichaganti.com/tags/openai/">openai</a>
      <span class="separator">•</span>
    <a href="https://ravichaganti.com/tags/python/">python</a></div>

        </div>
      </header>
      <hr>
      <div>
        
        
        <p>I have been closely following developments in the Agentic AI space. <a href="https://microsoft.github.io/autogen">AutoGen</a> from Microsoft Research is emerging as a powerful yet easy-to-use framework for building AI agents and applications. With their <a href="https://www.microsoft.com/en-us/research/blog/autogen-v0-4-reimagining-the-foundation-of-agentic-ai-for-scale-extensibility-and-robustness/">re-architected release</a> (0.4.0), they have re-imagined building advanced AI applications. This release introduces an asynchronous, event-driven architecture.</p>
<p>
<link rel="stylesheet" href="https://ravichaganti.com/css/hugo-easy-gallery.css" />
<div class="box" >
  <figure  itemprop="associatedMedia" itemscope itemtype="http://schema.org/ImageObject">
    <div class="img">
      <img itemprop="thumbnail" src="https://ravichaganti.com/images/ai/autogen-arch.jpg" />
    </div>
    <a href="https://ravichaganti.com/images/ai/autogen-arch.jpg" itemprop="contentUrl"></a>
  </figure>
</div>
 



  


<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://ravichaganti.com/js/load-photoswipe.js"></script>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.css" integrity="sha256-sCl5PUOGMLfFYctzDW3MtRib0ctyUvI9Qsmq2wXOeBY=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/default-skin/default-skin.min.css" integrity="sha256-BFeI1V+Vh1Rk37wswuOYn5lsTcaU96hGaI7OUVCLjPc=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe.min.js" integrity="sha256-UplRCs9v4KXVJvVY+p+RSo5Q4ilAUXh7kpjyIP5odyc=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.1/photoswipe-ui-default.min.js" integrity="sha256-PWHOlUzc96pMc8ThwRIXPn8yH4NOLu42RQ0b9SpnpFk=" crossorigin="anonymous"></script>


<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>
</p>
<p>This release features a layered architecture with all foundational building blocks for an event-driven system as the core package. The AgentChat layer builds upon the core layer, providing a task-driven API for group chat and code execution, as well as pre-built agents. The extensions layer provides implementations for core interfaces and third-party integrations. This is where all the model clients are implemented. The AutoGen Studio is a low-code interface that enables the rapid prototyping of AI agents, and AutoGen Bench provides developers with tools to benchmark agents&rsquo; performance across different tasks and environments.</p>
<p>The <a href="https://www.microsoft.com/en-us/research/articles/magentic-one-a-generalist-multi-agent-system-for-solving-complex-tasks/">Magnetic-One</a> application is a reference implementation that utilizes the AutoGen features, enabling users to perform open-ended web and file-based tasks across various domains.</p>
<p>If you want to start with AutoGen, this is the right time. In this article, I will walk through the basics of using AutoGen. We will go from using a simple model client to creating a simple agent. In the later parts of this series, we will look at creating a team of agents. As we do that, we will learn the concepts surrounding AutoGen.</p>
<h2 id="installing-autogen">Installing AutoGen</h2>
<p>As with any Python package, creating a virtual environment before installing any packages is always a good practice.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ mkdir -p autogen-101 <span class="o">&amp;&amp;</span> <span class="nb">cd</span> autogen-101
$ python -m venv .venv
$ <span class="nb">source</span> .venv<span class="se">\b</span>in<span class="se">\a</span>ctivate
$ pip install -U <span class="s2">&#34;autogen-agentchat&#34;</span>
$ pip install <span class="s2">&#34;autogen-ext[openai,azure]&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>We can start with the <code>autogen-agentchat</code> library for simple AI agents and applications. The <code>autogen-core</code> library will be required for advanced scenarios.</p>
<h2 id="using-model-clients">Using model clients</h2>
<p>I chose Azure OpenAI to explore how to use model clients in AutoGen. AutoGen supports <a href="https://microsoft.github.io/autogen/stable/user-guide/core-user-guide/components/model-clients.html">different models</a> as extensions. With Azure OpenAI, you can use either key-based authentication or AAD token-based authentication. For the key-based authentication, we will use the following environment variables.</p>
<ul>
<li>AZURE_OPENAI_API_KEY: API key to authenticate with the Azure OpenAI service.</li>
<li>AZURE_OPENAI_ENDPOINT: API endpoint associated with the Azure OpenAI service.</li>
<li>AZURE_OPENAI_CHAT_DEPLOYMENT_NAME: Deployment name given while deploying the model.</li>
<li>AZURE_OPENAI_API_VERSION: API version of the Azure OpenAI service</li>
</ul>
<p>To make it easy to retrieve these variable values in the script, we can use the <code>load_dotenv()</code> function.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">asyncio</span>

<span class="n">load_dotenv</span><span class="p">()</span>
</code></pre></td></tr></table>
</div>
</div><p>For the Azure OpenAI model client, we must import the <code>AzureOpenAIChatCompletionClient</code> from the <code>autogen_ext.models.openai</code> package. To create a conversation with the model, we need to send the prompt as a <code>UserMessage</code>, which is available in the <code>autogen_core.models</code> package.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">autogen_ext.models.openai</span> <span class="kn">import</span> <span class="n">AzureOpenAIChatCompletionClient</span>
<span class="kn">from</span> <span class="nn">autogen_core.models</span> <span class="kn">import</span> <span class="n">UserMessage</span><span class="p">,</span> <span class="n">AssistantMessage</span><span class="p">,</span> <span class="n">SystemMessage</span>
</code></pre></td></tr></table>
</div>
</div><p>Let us combine this functionality to retrieve a response to a user prompt from the model.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="n">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">aopenai_client</span> <span class="o">=</span> <span class="n">AzureOpenAIChatCompletionClient</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_CHAT_DEPLOYMENT_NAME&#34;</span><span class="p">),</span>
        <span class="n">api_key</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_API_KEY&#34;</span><span class="p">),</span>
        <span class="n">api_version</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_API_VERSION&#34;</span><span class="p">),</span>
        <span class="n">endpoint</span><span class="o">=</span><span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_ENDPOINT&#34;</span><span class="p">),</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">await</span> <span class="n">aopenai_client</span><span class="o">.</span><span class="n">create</span><span class="p">([</span>
        <span class="n">UserMessage</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&#34;What is AutoGen framework from Microsoft Research?&#34;</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&#34;user&#34;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">])</span>

    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>
    
<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><p>Running this program should produce output similar to the following.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ python 01-model-client.py
AutoGen is an advanced framework developed by Microsoft Research that facilitates the creation of complex agent-based workflows centered around Large Language Models <span class="o">(</span>LLMs<span class="o">)</span>. Released as an open-source Python library, AutoGen provides developers with tools to streamline communication and collaboration between LLM-powered agents <span class="k">while</span> enabling dynamic automation and interaction with external APIs or services.

<span class="c1">### Key Features of AutoGen:</span>
1. **Agent Collaboration and Communication**: AutoGen allows <span class="k">for</span> the orchestration of intelligent agents <span class="o">(</span>e.g., user agents or assistant agents<span class="o">)</span> that can dynamically interact through dialogues and tasks. These agents are designed to perform complex reasoning, problem-solving, and coordination.

2. **Extensibility and Customization**: AutoGen provides a simple yet powerful interface where developers can define custom agents with specific behaviors, abilities, and APIs. This makes it highly adaptable <span class="k">for</span> diverse use cases.

3. **Streamlined Workflow Automation**: Using AutoGen, developers can build sophisticated workflows where multiple agents collaborate to achieve tasks like information retrieval, code generation, decision-making, content creation, and more.

4. **Ease of Use**: While enabling complex logic and inter-agent collaboration, AutoGen emphasizes simplicity, reducing the <span class="nb">time</span> and effort required <span class="k">for</span> developers to design, implement, and manage multi-agent systems.

5. **Hybrid Intelligence**: The framework bridges LLMs and external tools, allowing agents to integrate well with domain-specific APIs, databases, and other services <span class="k">for</span> enhanced operational capabilities.

<span class="c1">### Example Use Cases:</span>
- **Code Development**: Agents can collaborate to design, write, debug, and review code based on user requirements.
- **Business Process Automation**: AutoGen can automate workflows in customer support, data analysis, and report generation by leveraging human-like decision-making agents.
- **Creative Content Generation**: Agents can coordinate <span class="k">for</span> tasks requiring writing stories, generating marketing material, or brainstorming ideas collaboratively.

<span class="c1">### Components of AutoGen:</span>
- **UserAgent**: Simulates a user interacting with the system.
- **AssistantAgent**: Represents an LLM-powered agent that actively solves problems or performs delegated tasks.
- **Custom Agents**: Developers can design unique agents tailored to specific roles or actions, integrating APIs, static data, or dynamic processes.
- **Robust Communication Framework**: Facilitates seamless back-and-forth interaction between agents, with dialogue and task-driven workflows.

<span class="c1">### Availability:</span>
Microsoft Research released AutoGen on GitHub as an open-source project. Developers can freely access the library, explore examples, and adapt its features to their needs.

<span class="c1">### Significance:</span>
AutoGen highlights the growing trend of transitioning from single-agent LLM applications to multi-agent systems capable of collaborative intelligence. Such frameworks push the boundaries of what LLMs can achieve, offering opportunities <span class="k">for</span> groundbreaking innovation in AI-driven automation and human-computer interaction.

You can find the library and documentation <span class="k">for</span> AutoGen <span class="o">[</span>here on GitHub<span class="o">](</span>https://github.com/microsoft/autogen<span class="o">)</span>.
</code></pre></td></tr></table>
</div>
</div><p>You can change the model client and experiment with different hosted or local models.</p>
<blockquote>
<p>Update: The 0.4.8 release of AutoGen natively supports Ollama-hosted local models. Here is a quick example of using the Ollama model client. You need to install the <code>autogen-ext[ollama]</code> package.</p>
</blockquote>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">asyncio</span>

<span class="kn">from</span> <span class="nn">autogen_ext.models.ollama</span> <span class="kn">import</span> <span class="n">OllamaChatCompletionClient</span>
<span class="kn">from</span> <span class="nn">autogen_core.models</span> <span class="kn">import</span> <span class="n">UserMessage</span>

<span class="n">load_dotenv</span><span class="p">()</span>

<span class="n">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">():</span>
    <span class="n">ollama_client</span> <span class="o">=</span> <span class="n">OllamaChatCompletionClient</span><span class="p">(</span>
        <span class="n">model</span><span class="o">=</span><span class="s2">&#34;llama3.2:3b&#34;</span>
    <span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="n">await</span> <span class="n">ollama_client</span><span class="o">.</span><span class="n">create</span><span class="p">([</span>
        <span class="n">UserMessage</span><span class="p">(</span>
            <span class="n">content</span><span class="o">=</span><span class="s2">&#34;What is AutoGen framework from Microsoft Research?&#34;</span><span class="p">,</span>
            <span class="n">source</span><span class="o">=</span><span class="s2">&#34;user&#34;</span><span class="p">,</span>
        <span class="p">),</span>
    <span class="p">])</span>

    <span class="k">print</span><span class="p">(</span><span class="n">result</span><span class="o">.</span><span class="n">content</span><span class="p">)</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&#34;__main__&#34;</span><span class="p">:</span>
    <span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><p>The response may take a few seconds to minutes depending on the system configuration where you run the models locally and the model size.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="err">$</span> <span class="n">python</span> <span class="o">.</span>\<span class="mo">01</span><span class="o">-</span><span class="n">model</span><span class="o">-</span><span class="n">client</span><span class="o">-</span><span class="n">ollama</span><span class="o">.</span><span class="n">py</span>
<span class="n">AutoGen</span> <span class="ow">is</span> <span class="n">a</span> <span class="n">tool</span> <span class="n">developed</span> <span class="n">by</span> <span class="n">Microsoft</span> <span class="n">Research</span> <span class="n">that</span> <span class="n">enables</span> <span class="n">the</span> <span class="n">automatic</span> <span class="n">generation</span> <span class="n">of</span> <span class="n">test</span> <span class="n">cases</span> <span class="k">for</span> <span class="n">software</span> <span class="n">applications</span><span class="o">.</span> <span class="n">It</span> <span class="ow">is</span> <span class="n">designed</span> <span class="n">to</span> <span class="n">help</span> <span class="n">improve</span> <span class="n">the</span> <span class="n">quality</span> <span class="ow">and</span> <span class="n">coverage</span> <span class="n">of</span> <span class="n">unit</span> <span class="n">tests</span><span class="p">,</span> <span class="n">integration</span> <span class="n">tests</span><span class="p">,</span> <span class="ow">and</span> <span class="n">UI</span> <span class="n">tests</span><span class="o">.</span>

<span class="n">AutoGen</span> <span class="n">uses</span> <span class="n">a</span> <span class="n">combination</span> <span class="n">of</span> <span class="n">machine</span> <span class="n">learning</span> <span class="n">algorithms</span> <span class="ow">and</span> <span class="n">natural</span> <span class="n">language</span> <span class="n">processing</span> <span class="p">(</span><span class="n">NLP</span><span class="p">)</span> <span class="n">techniques</span> <span class="n">to</span> <span class="n">analyze</span> <span class="n">source</span> <span class="n">code</span><span class="p">,</span> <span class="n">identify</span> <span class="n">relevant</span> <span class="n">features</span><span class="p">,</span> <span class="ow">and</span> <span class="n">generate</span> <span class="n">test</span> <span class="n">cases</span> <span class="n">that</span> <span class="n">cover</span> <span class="n">those</span> <span class="n">features</span><span class="o">.</span> <span class="n">The</span> <span class="n">goal</span> <span class="ow">is</span> <span class="n">to</span> <span class="nb">reduce</span> <span class="n">the</span> <span class="n">manual</span> <span class="n">effort</span> <span class="n">required</span> <span class="n">to</span> <span class="n">write</span> <span class="n">test</span> <span class="n">cases</span><span class="p">,</span> <span class="n">making</span> <span class="n">it</span> <span class="n">easier</span> <span class="k">for</span> <span class="n">developers</span> <span class="n">to</span> <span class="n">ensure</span> <span class="n">their</span> <span class="n">application</span><span class="s1">&#39;s functionality is thoroughly tested.</span>

<span class="n">Here</span> <span class="n">are</span> <span class="n">some</span> <span class="n">key</span> <span class="n">features</span> <span class="n">of</span> <span class="n">AutoGen</span><span class="p">:</span>

<span class="mf">1.</span> <span class="o">**</span><span class="n">Source</span> <span class="n">code</span> <span class="n">analysis</span><span class="o">**</span><span class="p">:</span> <span class="n">AutoGen</span> <span class="n">analyzes</span> <span class="n">source</span> <span class="n">code</span> <span class="n">to</span> <span class="n">identify</span> <span class="n">relevant</span> <span class="n">functions</span><span class="p">,</span> <span class="n">methods</span><span class="p">,</span> <span class="ow">and</span> <span class="n">classes</span><span class="o">.</span>
<span class="mf">2.</span> <span class="o">**</span><span class="n">Feature</span> <span class="n">extraction</span><span class="o">**</span><span class="p">:</span> <span class="n">It</span> <span class="n">extracts</span> <span class="n">relevant</span> <span class="n">features</span> <span class="kn">from</span> <span class="nn">the</span> <span class="nn">analyzed</span> <span class="nn">source</span> <span class="nn">code</span><span class="p">,</span> <span class="n">such</span> <span class="k">as</span> <span class="nb">input</span> <span class="n">parameters</span><span class="p">,</span> <span class="k">return</span> <span class="n">types</span><span class="p">,</span> <span class="ow">and</span> <span class="n">data</span> <span class="n">structures</span><span class="o">.</span>
<span class="mf">3.</span> <span class="o">**</span><span class="n">Test</span> <span class="n">case</span> <span class="n">generation</span><span class="o">**</span><span class="p">:</span> <span class="n">Based</span> <span class="n">on</span> <span class="n">the</span> <span class="n">extracted</span> <span class="n">features</span><span class="p">,</span> <span class="n">AutoGen</span> <span class="n">generates</span> <span class="n">test</span> <span class="n">cases</span> <span class="n">that</span> <span class="n">cover</span> <span class="n">those</span> <span class="n">features</span><span class="o">.</span>
<span class="mf">4.</span> <span class="o">**</span><span class="n">Test</span> <span class="n">case</span> <span class="n">optimization</span><span class="o">**</span><span class="p">:</span> <span class="n">It</span> <span class="n">optimizes</span> <span class="n">generated</span> <span class="n">test</span> <span class="n">cases</span> <span class="n">to</span> <span class="n">minimize</span> <span class="n">duplication</span> <span class="ow">and</span> <span class="n">ensure</span> <span class="n">maximum</span> <span class="n">coverage</span><span class="o">.</span>

<span class="n">AutoGen</span> <span class="n">can</span> <span class="n">be</span> <span class="n">used</span> <span class="ow">in</span> <span class="n">various</span> <span class="n">testing</span> <span class="n">scenarios</span><span class="p">,</span> <span class="n">including</span><span class="p">:</span>

<span class="mf">1.</span> <span class="n">Unit</span> <span class="n">testing</span><span class="p">:</span> <span class="n">Generating</span> <span class="n">test</span> <span class="n">cases</span> <span class="k">for</span> <span class="n">individual</span> <span class="n">functions</span> <span class="ow">or</span> <span class="n">methods</span><span class="o">.</span>
<span class="mf">2.</span> <span class="n">Integration</span> <span class="n">testing</span><span class="p">:</span> <span class="n">Testing</span> <span class="n">interactions</span> <span class="n">between</span> <span class="n">components</span> <span class="ow">or</span> <span class="n">modules</span><span class="o">.</span>
<span class="mf">3.</span> <span class="n">UI</span> <span class="n">testing</span><span class="p">:</span> <span class="n">Creating</span> <span class="n">test</span> <span class="n">cases</span> <span class="k">for</span> <span class="n">user</span> <span class="n">interface</span> <span class="n">elements</span> <span class="ow">and</span> <span class="n">behaviors</span><span class="o">.</span>

<span class="n">By</span> <span class="n">leveraging</span> <span class="n">machine</span> <span class="n">learning</span> <span class="ow">and</span> <span class="n">NLP</span> <span class="n">techniques</span><span class="p">,</span> <span class="n">AutoGen</span> <span class="n">aims</span> <span class="n">to</span> <span class="n">make</span> <span class="n">the</span> <span class="n">testing</span> <span class="n">process</span> <span class="n">more</span> <span class="n">efficient</span> <span class="ow">and</span> <span class="n">effective</span><span class="p">,</span> <span class="n">allowing</span> <span class="n">developers</span> <span class="n">to</span> <span class="n">focus</span> <span class="n">on</span> <span class="n">other</span> <span class="n">aspects</span> <span class="n">of</span> <span class="n">software</span> <span class="n">development</span><span class="o">.</span>

<span class="n">Would</span> <span class="n">you</span> <span class="n">like</span> <span class="n">to</span> <span class="n">know</span> <span class="n">more</span> <span class="n">about</span> <span class="n">how</span> <span class="n">AutoGen</span> <span class="n">works</span> <span class="ow">or</span> <span class="n">its</span> <span class="n">applications</span> <span class="ow">in</span> <span class="n">specific</span> <span class="n">industries</span><span class="err">?</span>
</code></pre></td></tr></table>
</div>
</div><p>As you see, the local model hallucinated about what AutoGen is! :)</p>
<h2 id="create-an-agent">Create an agent</h2>
<p>The AgentChat package provides a set of pre-built agents. These include an <a href="https://microsoft.github.io/autogen/stable/user-guide/agentchat-user-guide/tutorial/agents.html#assistant-agent">AssistantAgent</a>, <a href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html#autogen_agentchat.agents.UserProxyAgent">UserProxyAgent</a>, and <a href="https://microsoft.github.io/autogen/stable/reference/python/autogen_agentchat.agents.html#autogen_agentchat.agents.CodeExecutorAgent">CodeExecutionAgent</a>, among others. In this article, we will examine the use of the <code>AssistantAgent</code>. Let&rsquo;s dive into the example.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span><span class="lnt">41
</span><span class="lnt">42
</span><span class="lnt">43
</span><span class="lnt">44
</span><span class="lnt">45
</span><span class="lnt">46
</span><span class="lnt">47
</span><span class="lnt">48
</span><span class="lnt">49
</span><span class="lnt">50
</span><span class="lnt">51
</span><span class="lnt">52
</span><span class="lnt">53
</span><span class="lnt">54
</span><span class="lnt">55
</span><span class="lnt">56
</span><span class="lnt">57
</span><span class="lnt">58
</span><span class="lnt">59
</span><span class="lnt">60
</span><span class="lnt">61
</span><span class="lnt">62
</span><span class="lnt">63
</span><span class="lnt">64
</span><span class="lnt">65
</span><span class="lnt">66
</span><span class="lnt">67
</span><span class="lnt">68
</span><span class="lnt">69
</span><span class="lnt">70
</span><span class="lnt">71
</span><span class="lnt">72
</span><span class="lnt">73
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">autogen_agentchat.agents</span> <span class="kn">import</span> <span class="n">AssistantAgent</span>
<span class="kn">from</span> <span class="nn">autogen_agentchat.ui</span> <span class="kn">import</span> <span class="n">Console</span>
<span class="kn">from</span> <span class="nn">autogen_ext.models.openai</span> <span class="kn">import</span> <span class="n">AzureOpenAIChatCompletionClient</span>

<span class="kn">import</span> <span class="nn">asyncio</span>
<span class="kn">from</span> <span class="nn">dotenv</span> <span class="kn">import</span> <span class="n">load_dotenv</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Any</span>

<span class="n">load_dotenv</span><span class="p">()</span>

<span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_API_KEY&#34;</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_CHAT_DEPLOYMENT_NAME&#34;</span><span class="p">)</span>
<span class="n">endpoint</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_ENDPOINT&#34;</span><span class="p">)</span>
<span class="n">api_version</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;AZURE_OPENAI_API_VERSION&#34;</span><span class="p">)</span>
<span class="n">aoi_client</span> <span class="o">=</span> <span class="n">AzureOpenAIChatCompletionClient</span><span class="p">(</span>
    <span class="n">model</span><span class="o">=</span><span class="n">model</span><span class="p">,</span>
    <span class="n">api_key</span><span class="o">=</span><span class="n">api_key</span><span class="p">,</span>
    <span class="n">endpoint</span><span class="o">=</span><span class="n">endpoint</span><span class="p">,</span>
    <span class="n">api_version</span><span class="o">=</span><span class="n">api_version</span><span class="p">,</span>
<span class="p">)</span>

<span class="k">def</span> <span class="nf">get_weather</span><span class="p">(</span><span class="n">city</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">date</span><span class="p">:</span> <span class="n">datetime</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">]:</span>
    <span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Get the weather at a given location on a given date or current weather.
</span><span class="s2">
</span><span class="s2">    Args:
</span><span class="s2">        city: The city name, e.g. Bengaluru.
</span><span class="s2">        date: Date on which the weather at the given location should be determined. This defaults to the current weather when a date is not specified.
</span><span class="s2">
</span><span class="s2">    Returns:
</span><span class="s2">        JSON string with the city name, date, and temperature.
</span><span class="s2">    &#34;&#34;&#34;</span>
    <span class="n">api_key</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s2">&#34;VISUAL_CROSSING_API_KEY&#34;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">date</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="n">date</span> <span class="o">=</span> <span class="n">datetime</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&#34;%Y-%m-</span><span class="si">%d</span><span class="s2">&#34;</span><span class="p">)</span>
    
    <span class="n">request_url</span> <span class="o">=</span> <span class="n">f</span><span class="s2">&#34;https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/{city}/{date}?unitGroup=metric&amp;key={api_key}&amp;contentType=json&#34;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">request_url</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">response</span><span class="o">.</span><span class="n">status_code</span> <span class="o">!=</span> <span class="mi">200</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s2">&#34;error&#34;</span><span class="p">:</span> <span class="s2">&#34;Invalid city name or date&#34;</span>
        <span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">respJson</span> <span class="o">=</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">json</span><span class="o">.</span><span class="n">dumps</span><span class="p">({</span>
            <span class="s2">&#34;city&#34;</span><span class="p">:</span> <span class="n">city</span><span class="p">,</span>
            <span class="s2">&#34;date&#34;</span><span class="p">:</span> <span class="n">date</span><span class="p">,</span>
            <span class="s2">&#34;temperature&#34;</span><span class="p">:</span> <span class="n">respJson</span><span class="p">[</span><span class="s2">&#34;days&#34;</span><span class="p">][</span><span class="mi">0</span><span class="p">][</span><span class="s2">&#34;temp&#34;</span><span class="p">]</span>
        <span class="p">})</span>

<span class="n">agent</span> <span class="o">=</span> <span class="n">AssistantAgent</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="s2">&#34;weather_agent&#34;</span><span class="p">,</span>
    <span class="n">model_client</span><span class="o">=</span><span class="n">aoi_client</span><span class="p">,</span>
    <span class="n">tools</span><span class="o">=</span><span class="p">[</span><span class="n">get_weather</span><span class="p">],</span>
    <span class="n">system_message</span><span class="o">=</span><span class="s2">&#34;You are a helpful assistant.&#34;</span><span class="p">,</span>
    <span class="n">reflect_on_tool_use</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
    <span class="n">model_client_stream</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">async</span> <span class="k">def</span> <span class="nf">main</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="bp">None</span><span class="p">:</span>
    <span class="n">await</span> <span class="n">Console</span><span class="p">(</span>
        <span class="n">agent</span><span class="o">.</span><span class="n">on_messages_stream</span><span class="p">(</span>
            <span class="n">task</span><span class="o">=</span><span class="s2">&#34;What is the weather in London?&#34;</span>
        <span class="p">)</span>
    <span class="p">)</span>

<span class="n">asyncio</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">main</span><span class="p">())</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>get_weather</code> tool is the same function I used earlier when writing about Azure OpenAI API. It uses VisualCrossing weather API. If you do not have an API key for this service, replace the function body with a dummy return statement.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-python" data-lang="python">	<span class="s2">&#34;&#34;&#34;
</span><span class="s2">    Get the weather at a given location on a given date or current weather.
</span><span class="s2">
</span><span class="s2">    Args:
</span><span class="s2">        city: The city name, e.g. Bengaluru.
</span><span class="s2">        date: Date on which the weather at the given location should be determined. This defaults to the current weather when a date is not specified.
</span><span class="s2">
</span><span class="s2">    Returns:
</span><span class="s2">        JSON string with the city name, date, and temperature.
</span><span class="s2">    &#34;&#34;&#34;</span>
	<span class="k">return</span> <span class="n">f</span><span class="s2">&#34;The weather in {city} on {date} is 30 degrees celsius and rainy.&#34;</span>
</code></pre></td></tr></table>
</div>
</div><p>The <code>agent.run_stream()</code> method is a convenient wrapper around the <code>on_messages_stream()</code> method and</p>
<p>Unlike the function or tool calling when using the OpenAI API directly, the AutoGen agent framework and the agents provide the ability to invoke the tools automatically based on the LLM response. We supply a list of tools available using the <code>tools</code> field.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ python 02-assistant-agent.py
---------- user ----------
What is the weather in London?
---------- weather_agent ----------
<span class="o">[</span>FunctionCall<span class="o">(</span><span class="nv">id</span><span class="o">=</span><span class="s1">&#39;call_Z4evOdxIYSuCsMyXEJXXyToR&#39;</span>, <span class="nv">arguments</span><span class="o">=</span><span class="s1">&#39;{&#34;city&#34;:&#34;London&#34;}&#39;</span>, <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;get_weather&#39;</span><span class="o">)]</span>
---------- weather_agent ----------
<span class="o">[</span>FunctionExecutionResult<span class="o">(</span><span class="nv">content</span><span class="o">=</span><span class="s1">&#39;{&#34;city&#34;: &#34;London&#34;, &#34;date&#34;: &#34;2025-03-23&#34;, &#34;temperature&#34;: 11.0}&#39;</span>, <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;get_weather&#39;</span>, <span class="nv">call_id</span><span class="o">=</span><span class="s1">&#39;call_Z4evOdxIYSuCsMyXEJXXyToR&#39;</span>, <span class="nv">is_error</span><span class="o">=</span>False<span class="o">)]</span>
---------- weather_agent ----------
The current temperature in London is 11°C. Let me know <span class="k">if</span> you<span class="err">&#39;</span>d like more details about the weather!
</code></pre></td></tr></table>
</div>
</div><p>The <code>reflect_on_tool_use</code> indicates if the agent should make another model inference using the tool call result. If you set this to <code>False</code>, you will not see the last response.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-shell" data-lang="shell">$ python 02-assistant-agent.py
---------- user ----------
What is the weather in London?
---------- weather_agent ----------
<span class="o">[</span>FunctionCall<span class="o">(</span><span class="nv">id</span><span class="o">=</span><span class="s1">&#39;call_1DXbEuxDnHKHKj6d6DhWmueo&#39;</span>, <span class="nv">arguments</span><span class="o">=</span><span class="s1">&#39;{&#34;city&#34;:&#34;London&#34;}&#39;</span>, <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;get_weather&#39;</span><span class="o">)]</span>
---------- weather_agent ----------
<span class="o">[</span>FunctionExecutionResult<span class="o">(</span><span class="nv">content</span><span class="o">=</span><span class="s1">&#39;{&#34;city&#34;: &#34;London&#34;, &#34;date&#34;: &#34;2025-03-23&#34;, &#34;temperature&#34;: 11.0}&#39;</span>, <span class="nv">name</span><span class="o">=</span><span class="s1">&#39;get_weather&#39;</span>, <span class="nv">call_id</span><span class="o">=</span><span class="s1">&#39;call_1DXbEuxDnHKHKj6d6DhWmueo&#39;</span>, <span class="nv">is_error</span><span class="o">=</span>False<span class="o">)]</span>
---------- weather_agent ----------
<span class="o">{</span><span class="s2">&#34;city&#34;</span>: <span class="s2">&#34;London&#34;</span>, <span class="s2">&#34;date&#34;</span>: <span class="s2">&#34;2025-03-23&#34;</span>, <span class="s2">&#34;temperature&#34;</span>: 11.0<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Setting <code>model_client_stream</code> to <code>True</code> or <code>False</code> influences if the result from the tool calling and the model should be streamed or not. We can use any of the four methods &ndash; <code>agent.on_messages()</code>, <code>agent.on_messages_stream()</code>,  <code>agent.run()</code>, and <code>agent.run_stream()</code> &ndash; to supply the input prompt to the model.</p>
<p>Also, unlike the direct API calling, you don&rsquo;t have to pass the conversation history as a part of the prompt. The AutoGen agents are stateful and maintain the state of the conversation in memory.</p>
<p>As you can see, AutoGen framework makes it significantly simple to implement agentic applications. In the later parts of this series, we shall look at some advanced concepts and features of AutoGen.</p>

        

<style>
#share-buttons {display: inline-block; vertical-align: middle; }
#share-buttons:after {content: ""; display: block; clear: both;}
#share-buttons > div {
position: relative;
text-align: left; 
height: 36px; 
width: 32px; 
float: left; 
text-align: center;
}
#share-buttons > div > svg {height: 16px; fill: #d5d5d5; margin-top: 10px;}
#share-buttons > div:hover {cursor: pointer;}
#share-buttons > div.facebook:hover > svg {fill: #3B5998;}
#share-buttons > div.twitter:hover > svg {fill: #55ACEE;}
#share-buttons > div.linkedin:hover > svg {fill: #0077b5;}
#share-buttons > div.pinterest:hover > svg {fill: #CB2027;}
#share-buttons > div.gplus:hover > svg {fill: #dd4b39;}
#share-buttons > div.mail:hover > svg {fill: #7D7D7D;}
#share-buttons > div.instagram:hover > svg {fill: #C73B92;}
#share-buttons > div.facebook > svg {height: 18px; margin-top: 9px;}
#share-buttons > div.twitter > svg {height: 20px; margin-top: 8px;}
#share-buttons > div.linkedin > svg {height: 19px; margin-top: 7px;}
#share-buttons > div.pinterest > svg {height: 20px; margin-top: 9px;}
#share-buttons > div.gplus > svg {height: 17px; margin-top: 9px; position: relative; left: 1px;}
#share-buttons > div.mail > svg {height: 14px; margin-top: 11px;}
</style>

<span style="color: rgb(77, 77, 95);">Share on: </span><div id="share-buttons">
<div class="facebook" title="Share this on Facebook" onclick="window.open('https://www.facebook.com/sharer/sharer.php?u=https:\/\/ravichaganti.com\/blog\/getting-started-with-autogen-framework-for-building-ai-agents-and-applications\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759h-306v-759h-255v-296h255v-218q0-186 104-288.5t277-102.5q147 0 228 12z"/></svg></div>
<div class="twitter" title="Share this on Twitter" onclick="window.open('https://twitter.com/intent/tweet?text=https:\/\/ravichaganti.com\/blog\/getting-started-with-autogen-framework-for-building-ai-agents-and-applications\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5t-115.5 248.5-184.5 210.5-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5t-114-159.5q33 5 61 5 43 0 85-11-112-23-185.5-111.5t-73.5-205.5v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5t371.5 99.5q-8-38-8-74 0-134 94.5-228.5t228.5-94.5q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z"/></svg></div>
<div class="linkedin" title="Share this on Linkedin" onclick="window.open('https://www.linkedin.com/sharing/share-offsite/?url=https:\/\/ravichaganti.com\/blog\/getting-started-with-autogen-framework-for-building-ai-agents-and-applications\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991h-330v-991h330zm21-306q1 73-50.5 122t-135.5 49h-2q-82 0-132-49t-50-122q0-74 51.5-122.5t134.5-48.5 133 48.5 51 122.5zm1166 729v568h-329v-530q0-105-40.5-164.5t-126.5-59.5q-63 0-105.5 34.5t-63.5 85.5q-11 30-11 81v553h-329q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5 114.5-15.5q171 0 275 113.5t104 332.5z"/></svg></div>
<div class="mail" title="Share this through Email" onclick="window.open('mailto:?&body=https:\/\/ravichaganti.com\/blog\/getting-started-with-autogen-framework-for-building-ai-agents-and-applications\/');"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1792 710v794q0 66-47 113t-113 47h-1472q-66 0-113-47t-47-113v-794q44 49 101 87 362 246 497 345 57 42 92.5 65.5t94.5 48 110 24.5h2q51 0 110-24.5t94.5-48 92.5-65.5q170-123 498-345 57-39 100-87zm0-294q0 79-49 151t-122 123q-376 261-468 325-10 7-42.5 30.5t-54 38-52 32.5-57.5 27-50 9h-2q-23 0-50-9t-57.5-27-52-32.5-54-38-42.5-30.5q-91-64-262-182.5t-205-142.5q-62-42-117-115.5t-55-136.5q0-78 41.5-130t118.5-52h1472q65 0 112.5 47t47.5 113z"/></svg></div>
</div>
        <script src="https://giscus.app/client.js"
        data-repo="rchaganti/rchaganti.github.io"
        data-repo-id="MDEwOlJlcG9zaXRvcnkyNzcwNTE0Mjc="
        data-category="Announcements"
        data-category-id="DIC_kwDOEIN4I84CS4rW"
        data-mapping="pathname"
        data-strict="1"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="top"
        data-theme="light"
        data-lang="en"
        data-loading="lazy"
        crossorigin="anonymous"
        async>
</script>
      </div>


      <footer>
        

<section class="see-also">
  
    
    
    
      <h3>See also in autogen</h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="https://ravichaganti.com/blog/teams-of-agents-in-autogen/">Teams of agents in AutoGen</a>
            </li>
          
        
          
        
        </ul>
      </nav>
    
  
    
    
    
      <h3>See also in azure-openai</h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="https://ravichaganti.com/blog/teams-of-agents-in-autogen/">Teams of agents in AutoGen</a>
            </li>
          
        
          
        
          
            <li>
              <a href="https://ravichaganti.com/blog/predicted-outputs-azure-openai/">Predicted outputs in Azure OpenAI</a>
            </li>
          
        
          
            <li>
              <a href="https://ravichaganti.com/blog/parallel-tool-calling-azure-openai/">Parallel tool calling in Azure OpenAI</a>
            </li>
          
        
          
            <li>
              <a href="https://ravichaganti.com/blog/structured-output-azure-openai/">Structured output in Azure OpenAI</a>
            </li>
          
        
          
            <li>
              <a href="https://ravichaganti.com/blog/azure-openai-function-calling-with-multiple-tools/">Implementing multiple tool/function calling when using Azure OpenAI</a>
            </li>
          
        
        </ul>
      </nav>
    
  
    
    
    
      <h3>See also in python</h3>
      <nav>
        <ul>
        
        
          
            <li>
              <a href="https://ravichaganti.com/blog/teams-of-agents-in-autogen/">Teams of agents in AutoGen</a>
            </li>
          
        
          
        
        </ul>
      </nav>
    
  
</section>


        
        <script data-goatcounter="https://ravichaganti.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>
      </footer>
    </article>

    
  </section>

      </div>
      <script data-goatcounter="https://ravichaganti.goatcounter.com/count" async src="https://gc.zgo.at/count.js"></script>
      
  <footer class="footer">
    <section class="container">
      
        <p>All Rights Reserved.</p>
      
      
        ©
        
          2019 -
        
        2025
         Ravikanth Chaganti 
      
      
         · 
        Powered by <a href="https://gohugo.io/">Hugo</a> & <a href="https://github.com/luizdepra/hugo-coder/">Coder</a> and hosted using <a href="https://pages.github.com/">GitHub Pages</a>.
      
      
    </section>
  </footer>

    </main>

        
    
    

  </body>

</html>
